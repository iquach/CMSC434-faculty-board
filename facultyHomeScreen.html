<!DOCTYPE html>
<html>
<head>
	<title>Faculty Screen</title>
	<link rel="stylesheet" type="text/css" href="css/facultyhome2.css">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.js"></script>
</head>
<body>
	<div id="sidebar">
		<br><br><br>
		<img src='img/mid_avatar.png' style='display: block;margin-left: auto; margin-right: auto;border-radius: 50%;' width='100' height='100' alt='' />
		<br>
		<p id="time" class="white">Welcome, Dilbert Dilbertson!</p>
		<p id="time" class="white">Logout</p>
		<ul>
			<li><a class="active" href="facultyHomeScreen.html">Home</a></li>
			<li><a href="subpages/messages.html">View Messages (1)</a></li>
			<li><a href="index.html">View Current Visitor Display</a></li>
			<li><a href="subpages/linkCalendarPage.html">Upload Schedule and Link Calendar</a></li>
			<div id="queueSpace">
				<span id="queueMessage" style="font-size:180%">Queue: <span id="queue">5</span> visitors</span>
				<br>
				<span style="font-size:120%"><button id="decrement" onclick="decrementQ()">-</button>Modify Count</span>
				<span style="font-size: 1.2em">
					<button id="increment" onclick="incrementQ()">+</button>
				</span>
			</div>
			
		</ul>
	</div>
	<div class="navbar">
		<span class="cont" id="makeRoom">Make room 
			<!-- Make this select prettier!! incrase size? -->
			<select onchange="changeRoom(this.value)">
				<option value="Open">Open</option>
				<option selected="selected" value="Busy">Busy</option>
				<option value="Out of Office">Out of Office</option>
			</select>
		</span>
	</div>
	<div class="navbar2">
		<span class="cont" id="roomStatus" style="float:left; text-align: left">Room Status: Busy</span>
	</div>
	<div class="tl">
		<a class="fill-div center-link">There are <span id="queue2">5</span> Visitors Outside<br> (in the Queue)</a>
	</div>
	<div class="tr">
		<a class="fill-div center-link"> Appointments <br><br>
			<input type="checkbox" name="option2" value="Appointment"> Allow visitors to set appointments
		</a>
	</div>	
	<div class="bl">
		<a class="fill-div center-link">Messages<br><br>
			<input type="checkbox" name="option2" value="Appointment"> Allow visitors to leave messages
		</a>
	</div>
	<div class="br">
		<a class="fill-div center-link">Upload File or Text Announcement<br><br>
			<span>
				<span id="descriptionOfFiles">No files or text announcements uploaded</span><br><br>
				<!--Currently: __.jpg uploaded as '__'  <br> -->
				<!--form action="subpages/uploadFile.html"-->
				<button id="uploadFileButton">Upload new file</button> 
				<!--/form-->
				<!-- The Modal -->
				<div id="myModal2" class="modal2">
					<!-- Modal content -->
					<div class="modal-contentB">
						<span class="close2">&times;</span>
						<span style="color:black"> 
							Create a new announcement <br> <br> 
							Announcement name: 
							<input id="fileName" name="submitName" type="susbmit" value="ex: 'Announcement 3/18'"> 
							<br><br>
							<div align="center">
								<div id="summernote"><p></p></div></div>
								<script>
								$(document).ready(function() {
									$('#summernote').summernote({
										width: 700,
										height: 250
									});
								});
								</script>
								<br><button id="postAnn">Post Announcement</button> 
								<p id="annUploadConfirmation"></p>
							</span>
						</div>
					</div>
					<br>
					<button id="createAnnButton">Create a new text post announcement</button> 
					<div id="myModal" class="modal">
						<!-- Modal content -->
						<div class="modal-content">
							<span class="close">&times;</span>
							<span style="color:black"> Upload a file to display <br><br>
								<input name="myFile" id="newFile" type="file"><br> <br>
								File name to be displayed to visitors: <input id="fileName" name="submitName" type="susbmit" value="ex: 'Daily Comic'"> <br><br>
								<button id="saveNewFile">Save Changes</button> 
								<p id="fileUploadConfirmation"></p>
							</span>
						</div>
					</div>
				</span>
			</a>
		</div>
		<br><br><br>
<script>
	// Get the modal
	var modal = document.getElementById('myModal');
	var modal2 = document.getElementById('myModal2');

	// Get the button that opens the modal
	var btn = document.getElementById("uploadFileButton");
	var btn2 = document.getElementById("createAnnButton");

	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close")[0];
	var span2 = document.getElementsByClassName("close2")[0];
	// need second one?

	// When the user clicks the button, open the modal 
	btn.onclick = function() {
		modal.style.display = "block";
	}

	btn2.onclick = function() {
		modal2.style.display = "block";
	}

	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
		modal.style.display = "none";
	}
	span2.onclick = function() {
		modal2.style.display = "none";
	}
	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
		if (event.target == modal) {
			modal.style.display = "none";
		}
		if (event.target == modal2) {
			modal2.style.display = "none";
		}

	}
	//Changes the tob bar color 
	function changeRoom(status){
		if(status == "Open"){
			document.getElementById('roomStatus').style.cssText = 'background-color:green	';
			document.getElementById('makeRoom').style.cssText = 'background-color:green	';
			document.getElementById('roomStatus').innerHTML = "Room Status: Open"
		}
		if(status == "Busy"){
			document.getElementById('roomStatus').style.cssText = 'background-color:orange';
			document.getElementById('makeRoom').style.cssText = 'background-color:orange';

			document.getElementById('roomStatus').innerHTML = "Room Status: Busy"
		}
		if(status == "Out of Office"){
			document.getElementById('roomStatus').style.cssText = 'background-color:red';
			document.getElementById('makeRoom').style.cssText = 'background-color:red';

			document.getElementById('roomStatus').innerHTML = "Room Status: Out of Office"
		}
	}
	//Decerements the queue 
	function decrementQ(){
		val = document.getElementById('queue').innerHTML; 
		if(val >0){
			val--
			document.getElementById('queue').innerHTML = val;
			document.getElementById('queue2').innerHTML = val;
		}
	}

	function incrementQ() {
		val = document.getElementById('queue').innerHTML; 
		val++;
		document.getElementById('queue').innerHTML = val;
		document.getElementById('queue2').innerHTML = val;
		
	}

	//Get the button that saves the new file info
	var saveNewFileBtn = document.getElementById("saveNewFile");
	var postAnn = document.getElementById("postAnn");


	saveNewFileBtn.onclick = function(){
		document.getElementById('descriptionOfFiles').innerHTML = "\"comic.jpg\" was uploaded and being viewed as \"Daily Comic\""
		document.getElementById('fileUploadConfirmation').innerHTML = "<br> Your file was uploaded successfully! <br>Click \"View Current Visitor Display\" on the sidebar view the change from the visitor's perspective"
	}
	postAnn.onclick = function(){
		document.getElementById('descriptionOfFiles').innerHTML = "\"4/5 Office Hours Announcement\" is currently being viewed"
		document.getElementById('annUploadConfirmation').innerHTML = "<br> Your announcement was uploaded successfully! <br>Click \"View Current Visitor Display\" on the sidebar view the change from the visitor's perspective"
	}


</script>
	


</body>
</html>